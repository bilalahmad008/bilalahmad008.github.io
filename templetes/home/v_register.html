{% extends 'home/reportbase.html' %}
{% load static %}
{% block body %}



 <div id="wrapper">
        <div class="main-content">
            <div class="row small-spacing">
                <div class="col-xs-12">

                  <div class="col-sm-12 mx-1" style="background-color: rgb(245, 247, 250);">
                                  <!-- show personal details -->
              <div class="col-sm-12 mx-1 my-3" style="margin-top: 20px;">
                <h4 class="text-center alert" style="background-color: #304FFE; color: white;">  Registered Vehicles </h4>
               </div> 
                  

               <form method="post">
                {% csrf_token %}
                 <!-- row 1 -->
                 <div class="row">

                 
                <div class="col-md-4">
                  <label for="validationDefault01" class="form-label">Vehicle Number</label>
                  <input type="text" class="form-control" id="vehicleid" name="vehicleid" placeholder=" Vehicle Id" required>
                </div>

                <div class="form-group col-md-4">
                    <label for="inputName" class="control-label">Name</label>
                    <select class="form-control col-md-4" name="brand" id="brand" class="form-control"  required="">
                      <option value="">Company</option>
                      <option value="Toyata">Toyata</option>
                      <option value="2">Other</option>
                  </select>
                 </div>

                 <div class="form-group col-md-4">
                    <label for="inputName" class="control-label">color</label>
                    <select class="form-control col-md-4" name="colour" id="colour" class="form-control" placeholder=" Color" required="">
                      <option value="">Color</option>
                      <option value="1">White</option>
                      <option value="2">Black</option>
                  </select>
                 </div>
                </div>
             
<!-- row 2 -->
                <div class="row">
                  <div class="col-md-4">
                    <label for="validationDefault01" class="form-label">Engine Number</label>
                    <input type="text" class="form-control" id="engine_no" name="engine_no" placeholder="Engine Number" required>
                  </div>


                  <div class="col-md-4">
                    <label for="validationDefault01" class="form-label">Body Number</label>
                    <input type="text" class="form-control" id="body_no" name="body_no" placeholder="Body Number" required>
                  </div>
  
  
                  <div class="form-group col-md-4">
                      <label for="inputName" class="control-label">Power</label>
                      <select class="form-control col-md-4" name="engine_pwr" id="engine_pwr" class="form-control"  required="">
                        <option value="">Vehicle Power</option>
                        <option value="800cc">800cc</option>
                        <option value="1000cc">1000cc</option>
                        <option value="1200cc">1200cc</option>
                        <option value="1300cc">1300cc</option>
                        <option value="1500cc">1500cc</option>
                    </select>
                   </div>

                </div>


     <!-- row 3 -->

     <div class="row">
      <div class="col-md-4">
        <label for="validationDefault01" class="form-label">Capsity</label>
        <input type="number" class="form-control" id="capsity" name="capsity" placeholder="Number of Seats" required>
      </div>

      <div class="col-md-4">
        <label for="validationDefault01" class="form-label">Date</label>
        <input type="date" id="date1" name="date1" class="form-control" required>
      </div>

      <div class="col-md-4">
        <button class="btn btn-primary" type="submit" style="margin-top: 32px;">Register</button>
      </div>



    </div>
           

            

              </form>
              



                  </div>





                        <!-- show personal details -->
              <div class="col-sm-12 mx-1" style="margin-top: 20px;">
                <h4 class="text-center alert" style="background-color: #304FFE; color: white;"> Show Registered Vehicles </h4>
               </div> 

                  <div class="col-sm-12 mx-1">
                    <table id="example" class="table table-dark table-hover">
                      <thead>
                        <tr>
                          <th scope="col">Vehicle Number</th>
                          <th scope="col">Comapany</th>
                          <th scope="col">Color</th>
                          <th scope="col">Engine Number#</th>
                          <th scope="col">Body Number</th>
                          <th scope="col">Power</th>
                          <th scope="col">Capacity</th>
                          <th scope="col">Registration Date</th>
                        
                        </tr>
                        </thead>
                        <tbody>
                        <!-- Run a for loop here and iterate through all the index -->
                        {% for employee in task %}
                        
                        <tr>
                        
                           
                          <td class="table-secondary" >{{employee.vehicleid}}</td>
                          <td class="table-secondary" >{{employee.brand}}</td>
                          <td class="table-secondary" >{{employee.engine_no}}</td>
                          <td class="table-secondary" >{{employee.body_no}}</td>
                          <td class="table-secondary" >{{employee.engine_pwr}}</td>
                          <td class="table-secondary" >{{employee.colour}}</td>
                          <td class="table-secondary" >{{employee.capsity}}</td>
                          <td class="table-secondary" >{{employee.date1}}</td>

              
                                     
                        </tr>
                        
                        {% endfor %}
                      
                        </tbody>
                  
                         
                    </table>

                  </div>
                  



<!-- </div> -->



                    
   </div>
   </div>
   </div>
   </div>




            <!-- Alerts links -->
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <!--JQuery CDN-->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <!--Sweet Alert CDN-->
  <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

       <script>
 

        $('.delete').on('click',function (e) {
              e.preventDefault();
              var self = $(this);
              console.log(self.data('title'));
              Swal.fire({
                  title: 'Are you sure?',
                  text: "You won't be able to revert this!",
                  icon: 'warning',
                  showCancelButton: true,
                  confirmButtonColor: '#3085d6',
                  cancelButtonColor: '#d33',
                  confirmButtonText: 'Yes, delete it!'
              }).then((result) => {
                  if (result.isConfirmed) {
                      Swal.fire(
                          'Deleted!',
                          'Your file has been deleted.',
                          'success'
                      )
                    location.href = self.attr('href');
                  }
                  else {
          swal.fire("Your imaginary file is safe!");
        }
              })
      
          })



          $('.logout').on('click',function (e) {
        e.preventDefault();
        var self = $(this);
        console.log(self.data('title'));
        Swal.fire({
            title: 'Logout?',
            text: "Are you sure you want to logout?",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#d33',
            cancelButtonColor: '#3085d6', 
            confirmButtonText: 'Yes, Logout'
        }).then((result) => {
            if (result.isConfirmed) {
                // Swal.fire(
                //     // 'Deleted!',
                //     // 'Your file has been deleted.',
                //     // 'success'
                // )
              location.href = self.attr('href');
            }
            
        })

    })



      
          {% for msg in messages %}
          swal.fire('{{msg}}',Swal.fire(
            'Your file has been deleted.',
            'success'
        ));
          {% endfor %}
      </script>




 {% endblock %}
