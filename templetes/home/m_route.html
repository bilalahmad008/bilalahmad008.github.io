{% extends 'home/reportbase.html' %}
{% load static %}
{% block body %}


<div id="wrapper">
    <div class="main-content">
        <div class="row small-spacing">
            <div class="col-xs-12">



    
    <div class="container-fluid" style="background-color: rgb(255, 255, 255);">
    
        
      
            <h4 class="text-center alert" style="background-color: #304FFE; color: white;"> Add City </h4>

            <form method="post" action="">
                {% csrf_token %}
                <div class="row">
                  <!-- 1 -->
                  <div class="col-md-4">
                    <label for="sec" class="form-label">Select City</label>
                    <select class="form-control col-md-4" name="city" id="city"  required="" >
                      <option > {{city}}</option>
                        
                        {% for employee in task %}
        
                              <option>{{employee.name}}</option>
        
                              {% endfor %}
                    </select>
                 </div>

                 <!-- 2 -->

                 <div class="form-group col-md-4">
                  <label for="inputName" class="control-label">Session</label>
                  <select class="form-control col-md-4" name="session" id="session" class="form-control"  required="">
                    <option selected>{{session}}</option>
                    {% for employee in allsession %}
        
                              <option value="{{employee.session}}">{{employee.session}}</option>
        
                              {% endfor %}
                </select>
               </div>


               <!-- 3 -->
               <div class="form-group col-md-4">
                <label for="inputName" class="control-label">Select Vehicle</label>
                <select class="form-control col-md-4" name="v_id" id="v_id" class="form-control" placeholder=" Color" required="" >
                 <option >{{v_id}}</option>
                 {% for employee in allvehicle %}
        
                              <option value="{{employee.vehicleid}}">{{employee.vehicleid}}</option>
        
                              {% endfor %}
              </select>
             </div>



                </div>


                <!-- row 2 -->

                <div class="row">
                  <div class="form-group col-md-4">
                    <label for="inputName" class="control-label">Select Driver</label>
                    <select class="form-control col-md-4" name="driver" id="driver" class="form-control"  onChange="form.submit();" required="">
                     <option >{{driver}}</option>
                     {% for employee in alldrivers %}
        
                              <option>{{employee.name}}</option>
        
                              {% endfor %}
                  </select>
                 </div>

                 <div class="col-md-4">
                  <label for="V_no">Driver Phone Number</label>
                  <input type="text" class="form-control" id="driver_ph1"name="driver_ph1" placeholder="Driver ph#"  value="{{driverph}}" readonly>
                </div>


                <div class="form-group col-md-4">
                  <label for="inputName" class="control-label">Select Conductor</label>
                  <select class="form-control col-md-4" name="conductor" id="conductor" class="form-control" placeholder=" Color"  onChange="form.submit();" required="">
                   <option >{{conductor}}</option>
                   {% for employee in allconductor %}
        
                              <option>{{employee.name}}</option>
        
                              {% endfor %}
                </select>
               </div>



                  
                </div>


                <!-- row 3 -->

                <div class="row">

                  <div class="col-md-4">
                    <label for="V_no">Cnducter phone Number</label>
                    <input type="text" class="form-control" id="conductor_ph"name="conductor_ph" placeholder="Conductor Ph#" value="{{conductorph}}"  readonly>
                  </div>


                  <div class="col-md-4">
                    <label for="V_no">Add Route</label>
                    <input type="text" class="form-control" id="name"name="name" value="{{name}}"  required>
                  </div>


                  <div class="col-md-4"><br><button type="submit" class="btn btn-primary form-control" style="margin-top: 10px;">Register</button></div> 

                </div>


                
            

            
            
        </form>  
    
   
    
  </div>
          



    <div class="container-fluid">
    <div class="col-sm-12 mx-1">
      <h4 class="text-center alert" style="background-color: #304FFE; color: white;"> Show Employee Information </h4>
    
    
    
      <table id="example" class="table table-dark table-hover">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">City</th>
            <th scope="col">Route</th>
            <th scope="col">session</th>
            <th scope="col">Vehicle#</th>
            <th scope="col">Driver</th>
            <th scope="col">Driver PH#</th>
            <th scope="col">Conductor</th>
            <th scope="col">Conductor PH#</th>
          
          </tr>
        </thead>
        <tbody>
          <!-- Run a for loop here and iterate through all the index -->
          
          
          {% for employee in task1 %}
          <tr>
            <td class="table-secondary">{{forloop.counter}}</td>
            <td class="table-secondary">{{employee.city}}</td>
            <td class="table-secondary">{{employee.name}}</td>
            <td class="table-secondary">{{employee.session}}</td>
            <td class="table-secondary">{{employee.v_id}}</td>
            <td class="table-secondary">{{employee.driver}}</td>
            <td class="table-secondary">{{employee.driver_ph1}}</td>
            <td class="table-secondary">{{employee.conductor}}</td>
            <td class="table-secondary">{{employee.conductor_ph}}</td>

     
          </tr>
          {% endfor %}

          
      
        </tbody>
      
       
      </table>
    
    
    
    </div>
    
    
    
    </div>

    
        
    




<!-- div -->
         </div>
        </div>
        </div>
        </div>
        

                             <!-- Alerts links -->
                             <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
                             <!--JQuery CDN-->
                             <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
                             <!--Sweet Alert CDN-->
                             <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
                           
                                  <script>
                            
                           
                                   $('.delete').on('click',function (e) {
                                         e.preventDefault();
                                         var self = $(this);
                                         console.log(self.data('title'));
                                         Swal.fire({
                                             title: 'Are you sure?',
                                             text: "You won't be able to revert this!",
                                             icon: 'warning',
                                             showCancelButton: true,
                                             confirmButtonColor: '#3085d6',
                                             cancelButtonColor: '#d33',
                                             confirmButtonText: 'Yes, delete it!'
                                         }).then((result) => {
                                             if (result.isConfirmed) {
                                                 Swal.fire(
                                                     'Deleted!',
                                                     'Your file has been deleted.',
                                                     'success'
                                                 )
                                               location.href = self.attr('href');
                                             }
                                             else {
                                     swal.fire("Your imaginary file is safe!");
                                   }
                                         })
                                 
                                     })
                                 
                                     {% for msg in messages %}
                                     swal.fire('{{msg}}',Swal.fire(
                                       'Your file has been deleted.',
                                       'success'
                                   ));
                                     {% endfor %}
                                 </script>
        
        {% endblock %}
        
        